{"remainingRequest":"C:\\Users\\UI\\Desktop\\pet-dog\\project\\vue_project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\UI\\Desktop\\pet-dog\\project\\vue_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\UI\\Desktop\\pet-dog\\project\\vue_project\\src\\components\\goods\\GoodsList.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\UI\\Desktop\\pet-dog\\project\\vue_project\\src\\components\\goods\\GoodsList.vue","mtime":1541419379896},{"path":"C:\\Users\\UI\\Desktop\\pet-dog\\project\\vue_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1540630226000},{"path":"C:\\Users\\UI\\Desktop\\pet-dog\\project\\vue_project\\node_modules\\babel-loader\\lib\\index.js","mtime":1540630226000},{"path":"C:\\Users\\UI\\Desktop\\pet-dog\\project\\vue_project\\node_modules\\vue-loader\\lib\\index.js","mtime":1540630226000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\";\nimport header from \"../subcomponents/header\";\nimport footer from \"../subcomponents/footer\";\nimport aside from \"../subcomponents/Aside\";\nexport default {\n  data: function data() {\n    return {\n      iid: this.$route.params.iid,\n      productlist: [],\n      count: 0,\n      pageCount: 0,\n      pageIndex: 0,\n      pnolist: [],\n      active: 0\n    };\n  },\n  methods: {\n    getDetails: function getDetails(lid) {\n      this.$router.push({\n        path: \"/goodsinfo/\" + lid\n      });\n    },\n    getgoodslist: function getgoodslist(iid) {\n      var _this = this;\n\n      this.iid = iid;\n      this.pnolist = [];\n      this.$http.get(\"product/list?item_id=\" + iid).then(function (result) {\n        console.log(result);\n        _this.productlist = result.body.msg.data;\n        _this.count = result.body.msg.count;\n        _this.pageCount = result.body.msg.pageCount;\n        _this.pageIndex = result.body.msg.pno;\n      });\n    },\n    getOther: function getOther(isNext) {\n      var _this2 = this;\n\n      if (isNext) {\n        if (this.pageIndex < this.pageCount) {\n          this.pageIndex++;\n        } else {\n          Toast('没有更多啦');\n          return;\n        }\n      } else {\n        if (this.pageIndex > 1) {\n          this.pageIndex--;\n        } else {\n          Toast('已经是第一页啦');\n          return;\n        }\n      }\n\n      var url = \"product/list?item_id=\" + this.iid + \"&pno=\" + this.pageIndex;\n      this.$http.get(url).then(function (result) {\n        console.log(result);\n\n        if (_this2.pageIndex <= result.body.msg.pageCount) {\n          _this2.productlist = result.body.msg.data;\n          console.log(result.body.msg.pno);\n        } else {\n          Toast(\"没有更多了\");\n          return;\n        }\n      });\n    },\n    isActive: function isActive(index) {\n      this.active = index;\n    }\n  },\n  created: function created() {\n    this.getgoodslist(this.iid);\n  },\n  components: {\n    'header-box': header,\n    //注册子组件\n    'footer-box': footer,\n    'aside-box': aside\n  }\n};",{"version":3,"sources":["GoodsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA,SAAA,KAAA,QAAA,SAAA;AACA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,KAAA,MAAA,wBAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,WAAA,KAAA,MAAA,CAAA,MAAA,CAAA,GADA;AAEA,mBAAA,EAFA;AAGA,aAAA,CAHA;AAIA,iBAAA,CAJA;AAKA,iBAAA,CALA;AAMA,eAAA,EANA;AAOA,cAAA;AAPA,KAAA;AASA,GAXA;AAYA,WAAA;AACA,cADA,sBACA,GADA,EACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,gBAAA;AAAA,OAAA;AACA,KAHA;AAIA,gBAJA,wBAIA,GAJA,EAIA;AAAA;;AACA,WAAA,GAAA,GAAA,GAAA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,0BAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,cAAA,WAAA,GAAA,OAAA,IAAA,CAAA,GAAA,CAAA,IAAA;AACA,cAAA,KAAA,GAAA,OAAA,IAAA,CAAA,GAAA,CAAA,KAAA;AACA,cAAA,SAAA,GAAA,OAAA,IAAA,CAAA,GAAA,CAAA,SAAA;AACA,cAAA,SAAA,GAAA,OAAA,IAAA,CAAA,GAAA,CAAA,GAAA;AACA,OANA;AAOA,KAdA;AAgBA,YAhBA,oBAgBA,MAhBA,EAgBA;AAAA;;AACA,UAAA,MAAA,EAAA;AACA,YAAA,KAAA,SAAA,GAAA,KAAA,SAAA,EAAA;AACA,eAAA,SAAA;AACA,SAFA,MAEA;AACA,gBAAA,OAAA;AACA;AACA;AACA,OAPA,MAOA;AACA,YAAA,KAAA,SAAA,GAAA,CAAA,EAAA;AACA,eAAA,SAAA;AACA,SAFA,MAEA;AACA,gBAAA,SAAA;AACA;AACA;AACA;;AACA,UAAA,MAAA,0BAAA,KAAA,GAAA,GAAA,OAAA,GAAA,KAAA,SAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,gBAAA,GAAA,CAAA,MAAA;;AACA,YAAA,OAAA,SAAA,IAAA,OAAA,IAAA,CAAA,GAAA,CAAA,SAAA,EAAA;AACA,iBAAA,WAAA,GAAA,OAAA,IAAA,CAAA,GAAA,CAAA,IAAA;AACA,kBAAA,GAAA,CAAA,OAAA,IAAA,CAAA,GAAA,CAAA,GAAA;AACA,SAHA,MAGA;AACA,gBAAA,OAAA;AACA;AACA;AACA,OATA;AAUA,KA3CA;AA4CA,cAAA,kBAAA,KAAA,EAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA;AA9CA,GAZA;AA4DA,SA5DA,qBA4DA;AACA,SAAA,YAAA,CAAA,KAAA,GAAA;AACA,GA9DA;AAgEA,cAAA;AACA,kBAAA,MADA;AACA;AACA,kBAAA,MAFA;AAGA,iBAAA;AAHA;AAhEA,CAAA","sourcesContent":["<template>\r\n    <div class=\"app_goodslist\">\r\n        <aside-box></aside-box>\r\n        <header-box @getInfo=\"getgoodslist\"></header-box>\r\n        <div class=\"goodslist_body\">\r\n            <div class=\"goodslist_nav\">\r\n                <ul class=\"tree\">\r\n                    <li><a @click=\"getgoodslist(0)\">查看所有宝贝</a></li>\r\n                    <li>\r\n                        <span class=\"open\">宠物服饰及配件</span>\r\n                        <ul>\r\n                            <li>宠物服装/雨衣</li>\r\n                            <li>鞋子</li>\r\n                            <li>头饰</li>\r\n                            <li>帽子</li>\r\n                            <li>生理裤</li>\r\n                            <li>袜子</li>\r\n                            <li>其他服饰及配件</li>\r\n                        </ul>\r\n                    </li>\r\n                    <li><span>狗狗玩具</span>\r\n                        <ul>\r\n                            <li>发声玩具</li>\r\n                            <li>橡胶球/球星玩具</li>\r\n                            <li>绳结玩具</li>\r\n                            <li>漏食球</li>\r\n                        </ul>\r\n                    </li>\r\n                    <li><span>清洁用品</span>\r\n                        <ul>\r\n                            <li>除味剂</li>\r\n                            <li>香波浴液</li>\r\n                            <li>梳具</li>\r\n                            <li>口腔清洁</li>\r\n                            <li>眼部清洁</li>\r\n                            <li>毛巾/浴巾/吸水毛巾</li>\r\n                        </ul>\r\n                    </li>\r\n                    <li><span>生活用品</span>\r\n                        <ul>\r\n                            <li>牵引绳/项圈</li>\r\n                            <li>窝/屋/帐篷</li>\r\n                            <li>梳具</li>\r\n                            <li>诱导剂</li>\r\n                            <li>饮水器/水壶/喂食器</li>\r\n                            <li>床/垫/沙发</li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"goodslist_goods\">\r\n                <div class=\"search_count\">\r\n                    <p>共搜索到{{count}}条商品</p>\r\n                    <hr>\r\n                </div>\r\n                <div class=\"content_body\">\r\n                    <div class=\"content_child\" v-for=\"item in productlist\" :key=\"item.lid\" @click=\"getDetails(item.lid)\">\r\n                        <a><img :src=\"item.img_url\"></a>\r\n                        <p class=\"details\">{{item.details}}</p>\r\n                        <div class=\"content_text\">\r\n                            <p class=\"now_price\">¥{{item.now_price}}</p>\r\n                            <del class=\"old_price\">&nbsp;&nbsp;¥{{item.old_price}}</del>\r\n                            <p class=\"sall\">已售:{{item.sold_count}}件</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <ul class=\"page\">\r\n                    <li class=\"prev active\" @click=\"getOther(false)\"><a>上一页</a></li>\r\n                    <!-- <li class=\"pno\" :class=\"{'active':index==active}\" v-for=\"(item,index) in pnolist\" :key=\"item.index\" @click=\"isActive(index)\"><a>{{item}}</a></li> -->\r\n                    <li class=\"pno\" v-for=\"i in pageCount\" :key=\"i\" :class=\"{'active':i==active}\"  @click=\"isActive(i)\"><a>{{i}}</a></li>\r\n                    <li class=\"next\" @click=\"getOther(true)\"><a>下一页</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <footer-box></footer-box>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {Toast} from \"mint-ui\";\r\n    import header from \"../subcomponents/header\";\r\n    import footer from \"../subcomponents/footer\";\r\n    import aside from \"../subcomponents/Aside\";\r\n    export default{\r\n        data(){\r\n            return{\r\n                iid:this.$route.params.iid,\r\n                productlist:[],\r\n                count:0,\r\n                pageCount:0,\r\n                pageIndex:0,\r\n                pnolist:[],\r\n                active:0,\r\n            }\r\n        },\r\n        methods:{\r\n            getDetails(lid){\r\n                this.$router.push({path:\"/goodsinfo/\"+lid});\r\n            },\r\n            getgoodslist(iid){\r\n                this.iid=iid;\r\n                this.pnolist=[];\r\n                this.$http.get(\"product/list?item_id=\"+iid).then(result=>{\r\n                    console.log(result)\r\n                    this.productlist=result.body.msg.data;\r\n                    this.count=result.body.msg.count;\r\n                    this.pageCount=result.body.msg.pageCount;\r\n                    this.pageIndex=result.body.msg.pno\r\n                });\r\n            },\r\n            \r\n            getOther(isNext){\r\n                if(isNext){\r\n                    if(this.pageIndex<this.pageCount){\r\n                        this.pageIndex++;\r\n                    }else{\r\n                        Toast('没有更多啦')\r\n                        return;\r\n                    }\r\n                }else{\r\n                    if(this.pageIndex>1){\r\n                        this.pageIndex--\r\n                    }else{\r\n                        Toast('已经是第一页啦')\r\n                        return;\r\n                    }\r\n                }\r\n                var url=\"product/list?item_id=\"+this.iid+\"&pno=\"+this.pageIndex;\r\n                this.$http.get(url).then(result=>{\r\n                    console.log(result)\r\n                    if(this.pageIndex<=result.body.msg.pageCount){\r\n                        this.productlist=result.body.msg.data;\r\n                        console.log(result.body.msg.pno);\r\n                    }else{\r\n                        Toast(\"没有更多了\");\r\n                        return;\r\n                    }\r\n                });\r\n            },\r\n            isActive:function(index){\r\n                this.active = index;\r\n            }\r\n        },\r\n        created(){\r\n            this.getgoodslist(this.iid)\r\n        },\r\n        \r\n        components:{\r\n            'header-box':header,  //注册子组件\r\n            'footer-box':footer,\r\n            'aside-box':aside,\r\n        }\r\n    }\r\n\r\n</script>\r\n<style>\r\nul{\r\n    list-style: none;\r\n    padding:0 10px;\r\n}\r\n.app_goodslist .goodslist_body .goodslist_nav ul li{\r\n    font-size:14px;\r\n}\r\n.app_goodslist{\r\n    background: #EFEFF4;\r\n}\r\n.app_goodslist .goodslist_body{\r\n    width:85%;\r\n    margin:0 auto;\r\n    display: flex;\r\n    justify-content:space-between;\r\n}\r\n.app_goodslist .goodslist_body .goodslist_nav{\r\n    width:14%;\r\n    height:800px;\r\n    background: white\r\n}\r\n.app_goodslist .goodslist_body .goodslist_nav ul li span{\r\n    padding-left: 20px;\r\n\tcursor: pointer;\r\n    background: url(\"../../img/add.png\") no-repeat center left;\r\n}\r\n.app_goodslist .goodslist_body .goodslist_nav ul li ul{\r\n\theight:0;\r\n\toverflow: hidden;\r\n\ttransition: all .3s linear;\r\n}\r\n.app_goodslist .goodslist_body .goodslist_nav ul li.open{ background: url(\"../../img/minus.png\") no-repeat center left; }\r\n.app_goodslist .goodslist_body .goodslist_nav ul li.open+ul{ \r\n\theight:105px;\r\n}\r\n.app_goodslist .goodslist_body .goodslist_goods{\r\n    width:85%;\r\n    min-height:700px;\r\n    background: white\r\n}\r\n.app_goodslist .goodslist_body .goodslist_goods .search_count{\r\n    margin-top:10px;\r\n    padding:0 10px;\r\n}\r\n.app_goodslist .goodslist_body .goodslist_goods .content_body{\r\n    padding:0px 20px;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-wrap: wrap;\r\n}\r\n.app_goodslist .goodslist_goods .content_body .content_child{\r\n    box-shadow: 0 0 3px #EFEFF4;\r\n    margin-bottom: 20px;\r\n    width:29%;\r\n    padding:3px;\r\n    cursor: pointer;\r\n}\r\n.app_goodslist .goodslist_goods .content_body .content_child .details{\r\n    font-size:16px;\r\n}\r\n.app_goodslist .goodslist_goods .content_body .content_child a{\r\n    display: block;\r\n}\r\n.app_goodslist .goodslist_goods .content_body .content_child img{\r\n    width:100%;\r\n}\r\n.app_goodslist .goodslist_goods .content_body .content_child a{\r\n    display: block;\r\n    overflow: hidden;\r\n}\r\n.app_goodslist .goodslist_goods .content_body .content_child img:hover{\r\n    transform: scale(1.1);\r\n    transition: all 0.3s linear;\r\n}\r\n\r\n.app_goodslist .goodslist_goods .content_body .content_child .content_text .now_price{\r\n    float: left;\r\n    color:#F47E7A;\r\n    font-size:20px;\r\n    font-weight:bold;\r\n}\r\n.app_goodslist .goodslist_goods .content_body .content_child .content_text .old_price{\r\n    float:left;\r\n    font-size:14px;\r\n    color:#919196;\r\n}\r\n.app_goodslist .goodslist_goods .content_body .content_child .content_text .sall{\r\n    float:right;\r\n    font-size:16px;\r\n}\r\n.app_goodslist .goodslist_body .goodslist_goods .page{\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-top:0;\r\n    margin-bottom:20px;\r\n}\r\n.app_goodslist .goodslist_body .goodslist_goods .page li{\r\n    list-style: none;\r\n    margin-right:10px;\r\n    padding:3px 8px;\r\n    border: 1px solid #ccc;\r\n}\r\n.app_goodslist .goodslist_body .goodslist_goods .page li.active{\r\n    border:1px solid rgb(14, 212, 212);\r\n    \r\n}\r\n.app_goodslist .goodslist_body .goodslist_goods .page li.active a{\r\n    color:rgb(14, 212, 212);\r\n}\r\n.app_goodslist .goodslist_body .goodslist_goods .page li a{\r\n    font-size:16px;\r\n    color:#aaa;\r\n    cursor: pointer;\r\n}\r\n\r\n</style>\r\n    \r\n"],"sourceRoot":"src\\components\\goods"}]}